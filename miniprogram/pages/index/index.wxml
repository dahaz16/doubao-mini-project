<view class="container">
  <!-- 背景图片 -->
  <image class="background-image" src="/images/homepage_background.png" mode="aspectFill"></image>
  
  <!-- 主标题区域 -->
  <view class="title-section">
    <text class="main-title">感谢参与测试</text>
    <text class="version-number">v0.0.1 2026011401</text>
  </view>

  <!-- 底部按钮组 -->
  <view class="button-wrapper">
    <view class="button-section">
      <button class="primary-btn" bindtap="onStartInterview">
        <image class="btn-icon" src="/images/microphone.png" mode="aspectFit"></image>
        <text>开始讲述</text>
      </button>
      <button class="secondary-btn" bindtap="onViewMemories">
        <image class="btn-icon" src="/images/book.png" mode="aspectFit"></image>
        <text>查看回忆</text>
      </button>
    </view>
  </view>

  <!-- 功能未开放弹窗 -->
  <view class="modal-mask" wx:if="{{showModal}}" bindtap="onCloseModal">
    <view class="modal-container" catchtap="stopPropagation">
      <image class="modal-avatar" src="/images/AI_Avatar.png" mode="aspectFit"></image>
      <text class="modal-text">当前功能阿拓正在调试中，将在下个测试版本中开放</text>
      <button class="modal-btn" bindtap="onCloseModal">好的</button>
    </view>
  </view>

  <!-- 授权用户信息弹窗 -->
  <view class="modal-mask" wx:if="{{showAuthModal}}">
    <view class="modal-container auth-modal" catchtap="stopPropagation">
      <view class="auth-title">完善个人信息</view>
      <view class="auth-desc">为了更好的体验，请完善您的头像和昵称</view>
      
      <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
        <image class="auth-avatar" src="{{avatarUrl || '/images/default_avatar.png'}}" mode="aspectFill"></image>
        <view class="avatar-tip" wx:if="{{!avatarUrl}}">点击选择头像</view>
      </button>
      
      <view class="input-wrapper">
        <text class="input-label">昵称</text>
        <input type="nickname" class="auth-input" placeholder="请输入昵称" bind:change="onNicknameChange" bindinput="onNicknameInput" value="{{nickname}}"/>
      </view>
      
      <button class="modal-btn auth-btn" bindtap="onSubmitAuth" disabled="{{!nickname || !avatarUrl}}">确认并进入</button>
    </view>
  </view>
</view>
