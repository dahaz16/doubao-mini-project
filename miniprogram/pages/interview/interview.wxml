<view class="container {{status === 'recording' ? 'is-recording' : ''}}">
  <!-- Top Section: Avatar & AI Message -->
  <view class="top-section">
    <view class="avatar-wrapper">
      <view class="avatar-placeholder">头像</view>
    </view>
    
    <view class="chat-bubble {{status === 'thinking' ? 'thinking-bubble' : ''}}">
      <text wx:if="{{status !== 'thinking'}}">{{aiMessage}}</text>
      <text wx:else>思考中...</text>
    </view>
  </view>

  <!-- Middle Section: User Input Display -->
  <view class="content-section">
    <view class="user-feedback" wx:if="{{userInput || status === 'recording'}}">
      <text>{{userInput}}</text>
      <view class="cursor" wx:if="{{status === 'recording'}}">|</view>
    </view>
  </view>

  <!-- Bottom Section: Recording Controls -->
  <view class="controls-section">
    <!-- Idle State: Single Record Button -->
    <view class="record-button-container" wx:if="{{status === 'idle'}}">
      <view class="record-button" bindtap="handleMicToggle">
        <text>讲述</text>
      </view>
    </view>

    <!-- Recording State: Cancel + Timer + Send -->
    <view class="recording-controls-container" wx:if="{{status === 'recording'}}">
      <view class="cancel-button" bindtap="handleCancelRecording">
        <text>✕</text>
      </view>
      
      <view class="recording-timer">
        <view class="waveform-icon">|||</view>
        <text>{{recordingTime}}</text>
      </view>
      
      <view class="send-button" bindtap="handleMicToggle">
        <text>↑</text>
      </view>
    </view>

    <!-- Thinking State -->
    <view class="thinking-indicator" wx:if="{{status === 'thinking'}}">
      <text>AI 思考中...</text>
    </view>
  </view>
</view>
