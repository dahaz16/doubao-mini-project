æ–‡æœ¬ç”Ÿæˆ  
  
æ ¹æ®è¾“å…¥çš„æç¤ºè¯ç”Ÿæˆè¿è´¯æ¸…æ™°çš„æ–‡æœ¬å†…å®¹ã€‚  
è¯´æ˜  
æ–¹èˆŸå¹³å°çš„æ–°ç”¨æˆ·ï¼Ÿè·å– API Key åŠ å¼€é€šæ¨¡å‹ç­‰å‡†å¤‡å·¥ä½œï¼Œè¯·å‚è§ å¿«é€Ÿå…¥é—¨ã€‚  
å¿«é€Ÿå¼€å§‹  
  
è¾“å…¥  
  
è¾“å‡ºé¢„è§ˆ  
  
Plain  
å¤åˆ¶  
è¯·å°†ä¸‹é¢å†…å®¹è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼šç«å±±æ–¹èˆŸæ˜¯ç«å±±å¼•æ“æ¨å‡ºçš„å¤§æ¨¡å‹æœåŠ¡å¹³å°ï¼Œæä¾›æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€è¯„æµ‹ã€ç²¾è°ƒç­‰å…¨æ–¹ä½åŠŸèƒ½ä¸æœåŠ¡ï¼Œå¹¶é‡ç‚¹æ”¯æ’‘å¤§æ¨¡å‹ç”Ÿæ€ã€‚ ç«å±±æ–¹èˆŸé€šè¿‡ç¨³å®šå¯é çš„å®‰å…¨äº’ä¿¡æ–¹æ¡ˆï¼Œä¿éšœæ¨¡å‹æä¾›æ–¹çš„æ¨¡å‹å®‰å…¨ä¸æ¨¡å‹ä½¿ç”¨è€…çš„ä¿¡æ¯å®‰å…¨ï¼ŒåŠ é€Ÿå¤§æ¨¡å‹èƒ½åŠ›æ¸—é€åˆ°åƒè¡Œç™¾ä¸šï¼ŒåŠ©åŠ›æ¨¡å‹æä¾›æ–¹å’Œä½¿ç”¨è€…å®ç°å•†ä¸šæ–°å¢é•¿ã€‚  
  
Plain  
å¤åˆ¶  
# ç«å±±æ–¹èˆŸå¤§æ¨¡å‹æœåŠ¡å¹³å°ç»“æ„åŒ–ä¿¡æ¯  
  
## ä¸€ã€åŸºæœ¬å±æ€§  
1. **æ¨å‡ºä¸»ä½“**ï¼šç«å±±å¼•æ“  
2. **å¹³å°å®šä½**ï¼šå¤§æ¨¡å‹æœåŠ¡å¹³å°  
  
## äºŒã€æ ¸å¿ƒåŠŸèƒ½ä¸æœåŠ¡  
æä¾›æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€è¯„æµ‹ã€ç²¾è°ƒç­‰å…¨æ–¹ä½å¤§æ¨¡å‹ç›¸å…³åŠŸèƒ½ä¸æœåŠ¡ï¼Œæ ¸å¿ƒå®šä½åŒ…æ‹¬ï¼š  
1.  æ”¯æ’‘å¤§æ¨¡å‹ç”Ÿæ€å»ºè®¾  
2.  æ¨åŠ¨å¤§æ¨¡å‹èƒ½åŠ›å‘åƒè¡Œç™¾ä¸šæ¸—é€  
  
## ä¸‰ã€å®‰å…¨ä¿éšœæ–¹æ¡ˆ  
é€šè¿‡ç¨³å®šå¯é çš„å®‰å…¨äº’ä¿¡æ–¹æ¡ˆï¼ŒåŒå‘ä¿éšœä¿¡æ¯å®‰å…¨ï¼š  
1.  æ¨¡å‹æä¾›æ–¹ï¼šä¿éšœå…¶æ¨¡å‹å®‰å…¨  
2.  æ¨¡å‹ä½¿ç”¨è€…ï¼šä¿éšœå…¶ä¿¡æ¯å®‰å…¨  
  
## å››ã€ä»·å€¼ç›®æ ‡  
åŠ©åŠ›æ¨¡å‹æä¾›æ–¹å’Œä½¿ç”¨è€…å®ç°å•†ä¸šæ–°å¢é•¿ï¼Œæ„å»ºå¤§æ¨¡å‹ç”Ÿæ€ä¸‹çš„å•†ä¸šå…±èµ¢æ¨¡å¼ã€‚  
  
Curl  
Python  
Go  
Java  
import os  
# Install SDK:  pip install 'volcengine-python-sdk[ark]'  
from volcenginesdkarkruntime import Ark   
  
# åˆå§‹åŒ–Arkå®¢æˆ·ç«¯  
client = Ark(  
    # The base URL for model invocation  
    base_url="https://ark.cn-beijing.volces.com/api/v3",   
    # Get API Keyï¼šhttps://console.volcengine.com/ark/region:ark+cn-beijing/apikey  
    api_key=os.getenv('ARK_API_KEY'),   
)  
  
completion = client.chat.completions.create(  
    # Replace with Model ID  
    model = "doubao-seed-1-6-251015",  
    messages=[  
        {"role": "user", "content": "è¯·å°†ä¸‹é¢å†…å®¹è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼šç«å±±æ–¹èˆŸæ˜¯ç«å±±å¼•æ“æ¨å‡ºçš„å¤§æ¨¡å‹æœåŠ¡å¹³å°ï¼Œæä¾›æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€è¯„æµ‹ã€ç²¾è°ƒç­‰å…¨æ–¹ä½åŠŸèƒ½ä¸æœåŠ¡ï¼Œå¹¶é‡ç‚¹æ”¯æ’‘å¤§æ¨¡å‹ç”Ÿæ€ã€‚ ç«å±±æ–¹èˆŸé€šè¿‡ç¨³å®šå¯é çš„å®‰å…¨äº’ä¿¡æ–¹æ¡ˆï¼Œä¿éšœæ¨¡å‹æä¾›æ–¹çš„æ¨¡å‹å®‰å…¨ä¸æ¨¡å‹ä½¿ç”¨è€…çš„ä¿¡æ¯å®‰å…¨ï¼ŒåŠ é€Ÿå¤§æ¨¡å‹èƒ½åŠ›æ¸—é€åˆ°åƒè¡Œç™¾ä¸šï¼ŒåŠ©åŠ›æ¨¡å‹æä¾›æ–¹å’Œä½¿ç”¨è€…å®ç°å•†ä¸šæ–°å¢é•¿ã€‚"},  
    ],  
    # thinking={"type": "disabled"}, #  Manually disable deep thinking  
)  
print(completion.choices[0].message.content)  
  
package main  
  
import (  
    "context"  
    "fmt"  
    "os"  
    "github.com/volcengine/volcengine-go-sdk/service/arkruntime"  
    "github.com/volcengine/volcengine-go-sdk/service/arkruntime/model"  
    "github.com/volcengine/volcengine-go-sdk/volcengine"  
)  
  
func main() {  
    client := arkruntime.NewClientWithApiKey(  
        os.Getenv("ARK_API_KEY"),  
        // The base URL for model invocation  
        arkruntime.WithBaseUrl("https://ark.cn-beijing.volces.com/api/v3"),  
    )  
  
ctx := context.Background()  
    req := model.CreateChatCompletionRequest{  
        // Replace with Model ID  
       Model: "doubao-seed-1-6-251015",  
       Messages: []*model.ChatCompletionMessage{  
          {  
             Role: model.ChatMessageRoleUser,  
             Content: &model.ChatCompletionMessageContent{  
                StringValue: volcengine.String("è¯·å°†ä¸‹é¢å†…å®¹è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼šç«å±±æ–¹èˆŸæ˜¯ç«å±±å¼•æ“æ¨å‡ºçš„å¤§æ¨¡å‹æœåŠ¡å¹³å°ï¼Œæä¾›æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€è¯„æµ‹ã€ç²¾è°ƒç­‰å…¨æ–¹ä½åŠŸèƒ½ä¸æœåŠ¡ï¼Œå¹¶é‡ç‚¹æ”¯æ’‘å¤§æ¨¡å‹ç”Ÿæ€ã€‚ ç«å±±æ–¹èˆŸé€šè¿‡ç¨³å®šå¯é çš„å®‰å…¨äº’ä¿¡æ–¹æ¡ˆï¼Œä¿éšœæ¨¡å‹æä¾›æ–¹çš„æ¨¡å‹å®‰å…¨ä¸æ¨¡å‹ä½¿ç”¨è€…çš„ä¿¡æ¯å®‰å…¨ï¼ŒåŠ é€Ÿå¤§æ¨¡å‹èƒ½åŠ›æ¸—é€åˆ°åƒè¡Œç™¾ä¸šï¼ŒåŠ©åŠ›æ¨¡å‹æä¾›æ–¹å’Œä½¿ç”¨è€…å®ç°å•†ä¸šæ–°å¢é•¿ã€‚"),  
             },  
          },  
       },  
       Thinking: &model.Thinking{  
            Type: model.ThinkingTypeDisabled, // Manually disable deep thinking  
            // Type: model.ThinkingTypeEnabled, // Manually enable deep thinking  
        },  
    }  
  
resp, err := client.CreateChatCompletion(ctx, req)  
    if err != nil {  
       fmt.Printf("standard chat error: %v\n", err)  
       return  
    }  
    fmt.Println(*resp.Choices[0].Message.Content.StringValue)  
}  
  
package com.ark.sample;  
  
import com.volcengine.ark.runtime.model.completion.chat.*;  
import com.volcengine.ark.runtime.service.ArkService;  
import java.util.ArrayList;  
import java.util.List;  
  
public class ChatCompletionsExample {  
    public static void main(String[] args) {  
        String apiKey = System.getenv("ARK_API_KEY");  
        // The base URL for model invocation  
        ArkService service = ArkService.builder().apiKey(apiKey).baseUrl("https://ark.cn-beijing.volces.com/api/v3").build();  
        final List<ChatMessage> messages = new ArrayList<>();  
        final ChatMessage userMessage = ChatMessage.builder().role(ChatMessageRole.USER).content("è¯·å°†ä¸‹é¢å†…å®¹è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼šç«å±±æ–¹èˆŸæ˜¯ç«å±±å¼•æ“æ¨å‡ºçš„å¤§æ¨¡å‹æœåŠ¡å¹³å°ï¼Œæä¾›æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€è¯„æµ‹ã€ç²¾è°ƒç­‰å…¨æ–¹ä½åŠŸèƒ½ä¸æœåŠ¡ï¼Œå¹¶é‡ç‚¹æ”¯æ’‘å¤§æ¨¡å‹ç”Ÿæ€ã€‚ ç«å±±æ–¹èˆŸé€šè¿‡ç¨³å®šå¯é çš„å®‰å…¨äº’ä¿¡æ–¹æ¡ˆï¼Œä¿éšœæ¨¡å‹æä¾›æ–¹çš„æ¨¡å‹å®‰å…¨ä¸æ¨¡å‹ä½¿ç”¨è€…çš„ä¿¡æ¯å®‰å…¨ï¼ŒåŠ é€Ÿå¤§æ¨¡å‹èƒ½åŠ›æ¸—é€åˆ°åƒè¡Œç™¾ä¸šï¼ŒåŠ©åŠ›æ¨¡å‹æä¾›æ–¹å’Œä½¿ç”¨è€…å®ç°å•†ä¸šæ–°å¢é•¿ã€‚").build();  
        messages.add(userMessage);  
  
ChatCompletionRequest chatCompletionRequest = ChatCompletionRequest.builder()  
               .model("doubao-seed-1-6-251015")//Replace with Model ID  
               .messages(messages)  
               // .thinking(new ChatCompletionRequest.ChatCompletionRequestThinking("disabled")) // Manually disable deep thinking  
               .build();  
        service.createChatCompletion(chatCompletionRequest).getChoices().forEach(choice -> System.out.println(choice.getMessage().getContent()));  
        // shutdown service  
        service.shutdownExecutor();  
    }  
}  
  
Bash  
å¤åˆ¶  
curl https://ark.cn-beijing.volces.com/api/v3/chat/completions \  
  -H "Content-Type: application/json" \  
  -H "Authorization: Bearer $ARK_API_KEY" \  
  -d '{  
    "model": "doubao-seed-1-6-251015",  
    "messages": [  
        {"role": "user", "content": "è¯·å°†ä¸‹é¢å†…å®¹è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼šç«å±±æ–¹èˆŸæ˜¯ç«å±±å¼•æ“æ¨å‡ºçš„å¤§æ¨¡å‹æœåŠ¡å¹³å°ï¼Œæä¾›æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€è¯„æµ‹ã€ç²¾è°ƒç­‰å…¨æ–¹ä½åŠŸèƒ½ä¸æœåŠ¡ï¼Œå¹¶é‡ç‚¹æ”¯æ’‘å¤§æ¨¡å‹ç”Ÿæ€ã€‚ ç«å±±æ–¹èˆŸé€šè¿‡ç¨³å®šå¯é çš„å®‰å…¨äº’ä¿¡æ–¹æ¡ˆï¼Œä¿éšœæ¨¡å‹æä¾›æ–¹çš„æ¨¡å‹å®‰å…¨ä¸æ¨¡å‹ä½¿ç”¨è€…çš„ä¿¡æ¯å®‰å…¨ï¼ŒåŠ é€Ÿå¤§æ¨¡å‹èƒ½åŠ›æ¸—é€åˆ°åƒè¡Œç™¾ä¸šï¼ŒåŠ©åŠ›æ¨¡å‹æä¾›æ–¹å’Œä½¿ç”¨è€…å®ç°å•†ä¸šæ–°å¢é•¿ã€‚"}  
    ],  
     "thinking":{  
         "type":"disabled"  
     }  
  }'  
  
æŒ‰éœ€æ›¿æ¢ Model IDï¼ŒæŸ¥è¯¢ Model ID è¯·å‚è§ æ¨¡å‹åˆ—è¡¨ã€‚  
  
è¯´æ˜  
ä½¿ç”¨ Responses API å®ç°å•è½®å¯¹è¯çš„ç¤ºä¾‹ï¼Œè¯·å‚è§å¿«é€Ÿå¼€å§‹ã€‚  
æ¨¡å‹ä¸API  
æ”¯æŒçš„æ¨¡å‹ï¼šæ–‡æœ¬ç”Ÿæˆèƒ½åŠ›  
æ”¯æŒçš„API ï¼š  
Responses APIï¼šæ–°æ¨å‡ºçš„ APIï¼Œç®€æ´ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œå¢å¼ºå·¥å…·è°ƒç”¨èƒ½åŠ›ï¼Œç¼“å­˜èƒ½åŠ›é™ä½æˆæœ¬ï¼Œæ–°ä¸šåŠ¡åŠç”¨æˆ·æ¨èã€‚  
Chat APIï¼šä½¿ç”¨å¹¿æ³›çš„ APIï¼Œå­˜é‡ä¸šåŠ¡è¿ç§»æˆæœ¬ä½ã€‚  
ä½¿ç”¨ç¤ºä¾‹  
å¤šè½®å¯¹è¯  
å®ç°å¤šè½®å¯¹è¯ï¼Œéœ€å°†åŒ…å«ç³»ç»Ÿæ¶ˆæ¯ã€æ¨¡å‹æ¶ˆæ¯å’Œç”¨æˆ·æ¶ˆæ¯çš„å¯¹è¯å†å²ç»„åˆæˆä¸€ä¸ªåˆ—è¡¨ï¼Œä»¥ä¾¿æ¨¡å‹ç†è§£ä¸Šä¸‹æ–‡ï¼Œå¹¶å»¶ç»­ä¹‹å‰çš„è¯é¢˜è¿›è¡Œé—®ç­”ã€‚  
  
ä¼ å…¥æ–¹å¼  
  
æ‰‹åŠ¨ç®¡ç†ä¸Šä¸‹æ–‡  
  
é€šè¿‡IDç®¡ç†ä¸Šä¸‹æ–‡  
  
ä½¿ç”¨ç¤ºä¾‹  
  
JSON  
å¤åˆ¶  
...  
    "model": "doubao-seed-1-6-251015",  
    "messages":[  
        {"role": "user", "content": "Hi, tell a joke."},  
        {"role": "assistant", "content": "Why did the math book look sad? Because it had too many problems! ğŸ˜„"},  
        {"role": "user", "content": "What's the punchline of this joke?"}  
    ]  
...  
  
JSON  
å¤åˆ¶  
...  
    "model": "doubao-seed-1-6-251015",  
    "previous_response_id":"<id>",  
    "input": "What is the punchline of this joke?"  
...  
  
API  
  
Chat API  
  
Responses API  
  
æ›´å¤šè¯´æ˜åŠå®Œæ•´ç¤ºä¾‹è¯·å‚è§ ä¸Šä¸‹æ–‡ç®¡ç†ã€‚  
æµå¼è¾“å‡º  
  
é¢„è§ˆ  
  
ä¼˜åŠ¿  
  
é‡æ’­  
  
00:13  
    /  
    00:13  
  
1x  
  
æ”¹å–„ç­‰å¾…ä½“éªŒï¼šæ— éœ€ç­‰å¾…å®Œæ•´å†…å®¹ç”Ÿæˆå®Œæ¯•ï¼Œå¯ç«‹å³å¤„ç†è¿‡ç¨‹å†…å®¹ã€‚  
å®æ—¶è¿‡ç¨‹åé¦ˆï¼šå¤šè½®äº¤äº’åœºæ™¯ï¼Œå®æ—¶äº†è§£ä»»åŠ¡å½“å‰çš„å¤„ç†é˜¶æ®µã€‚  
æ›´é«˜çš„å®¹é”™æ€§ï¼šä¸­é€”å‡ºé”™ï¼Œä¹Ÿèƒ½è·å–åˆ°å·²ç”Ÿæˆå†…å®¹ï¼Œé¿å…éæµå¼è¾“å‡ºå¤±è´¥æ— è¿”å›çš„æƒ…å†µã€‚  
ç®€åŒ–è¶…æ—¶ç®¡ç†ï¼šä¿æŒå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„è¿æ¥çŠ¶æ€ï¼Œé¿å…å¤æ‚ä»»åŠ¡è€—æ—¶è¿‡é•¿è€Œè¿æ¥è¶…æ—¶ã€‚  
  
é€šè¿‡é…ç½® stream ä¸º trueï¼Œæ¥å¯ç”¨æµå¼è¾“å‡ºã€‚  
  
JSON  
å¤åˆ¶  
...  
    "model": "doubao-seed-1-6-251015",  
    "messages": [  
        {"role": "user", "content": "æ·±åº¦æ€è€ƒæ¨¡å‹ä¸éæ·±åº¦æ€è€ƒæ¨¡å‹åŒºåˆ«"}  
    ],  
    "stream": true  
 ...  
  
å®Œæ•´ç¤ºä¾‹åŠæ›´å¤šè¯´æ˜è¯·å‚è§ æµå¼è¾“å‡ºã€‚  
è®¾ç½®æœ€å¤§å›ç­”  
å½“æ§åˆ¶æˆæœ¬æˆ–è€…å›ç­”é—®é¢˜æ—¶é—´ï¼Œå¯é€šè¿‡é™åˆ¶æ¨¡å‹å›ç­”é•¿åº¦å®ç°ã€‚å½“å›ç­”ç¯‡å¹…è¾ƒé•¿ï¼Œå¦‚ç¿»è¯‘é•¿æ–‡æœ¬ï¼Œé¿å…ä¸­é€”æˆªæ–­ï¼Œå¯é€šè¿‡è®¾ç½®max_tokensæ›´å¤§å€¼å®ç°ã€‚  
  
JSON  
å¤åˆ¶  
...  
    "model": "doubao-seed-1-6-251015",  
    "messages": [  
        {"role": "user","content": "What are some common cruciferous plants?"}  
    ],  
    "max_tokens": 300  
...  
  
å®Œæ•´ç¤ºä¾‹ä»£ç ï¼Œè¯·å‚è§ æ§åˆ¶å›ç­”é•¿åº¦ã€‚  
å¼‚æ­¥è¾“å‡º  
å½“ä»»åŠ¡è¾ƒä¸ºå¤æ‚æˆ–è€…å¤šä¸ªä»»åŠ¡å¹¶å‘ç­‰åœºæ™¯ä¸‹ï¼Œå¯ä½¿ç”¨ Asyncio æ¥å£å®ç°å¹¶å‘è°ƒç”¨ï¼Œæé«˜ç¨‹åºçš„æ•ˆç‡ï¼Œä¼˜åŒ–ä½“éªŒã€‚  
ä½¿ç”¨ Responses API å®ç°å¼‚æ­¥è¾“å‡ºçš„ Python ç¤ºä¾‹ï¼Œè¯·å‚è§å›¾ç‰‡ç†è§£ã€‚  
  
Python  
  
Python  
å¤åˆ¶  
import asyncio  
import os  
# Install SDK:  pip install 'volcengine-python-sdk[ark]'  
from volcenginesdkarkruntime import AsyncArk  
  
# åˆå§‹åŒ–Arkå®¢æˆ·ç«¯  
client = AsyncArk(  
    # The base URL for model invocation  
    base_url="https://ark.cn-beijing.volces.com/api/v3",   
    # Get API Keyï¼šhttps://console.volcengine.com/ark/region:ark+cn-beijing/apikey   
    api_key=os.getenv('ARK_API_KEY'),   
)  
  
async def main() -> None:  
    stream = await client.chat.completions.create(    
        # Replace with Model ID  
        model = "doubao-seed-1-6-251015",  
        messages=[  
            {"role": "system", "content": "ä½ æ˜¯ AI äººå·¥æ™ºèƒ½åŠ©æ‰‹"},  
            {"role": "user", "content": "å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿ"},  
        ],  
        stream=True  
    )  
    async for completion in stream:  
        print(completion.choices[0].delta.content, end="")  
    print()  
  
asyncio.run(main())  
  
æ›´å¤šä½¿ç”¨  
æ·±åº¦æ€è€ƒ  
æ¨¡å‹åœ¨è¾“å‡ºå›ç­”å‰ï¼Œå…ˆå¯¹è¾“å…¥é—®é¢˜è¿›è¡Œç³»ç»Ÿæ€§åˆ†æä¸é€»è¾‘æ‹†è§£ï¼Œå†åŸºäºæ‹†è§£ç»“æœç”Ÿæˆå›ç­”ã€‚  
å¯ä»¥æ˜¾è‘—æå‡å›å¤è´¨é‡ï¼Œä½†ä¼šå¢åŠ  token æ¶ˆè€—ï¼Œè¯¦ç»†ä¿¡æ¯è¯·å‚è§æ·±åº¦æ€è€ƒã€‚  
æç¤ºè¯å·¥ç¨‹  
æ­£ç¡®è®¾è®¡å’Œç¼–å†™æç¤ºè¯ï¼Œå¦‚æä¾›è¯´æ˜ã€ç¤ºä¾‹ã€å¥½çš„è§„èŒƒç­‰æ–¹æ³•å¯æé«˜æ¨¡å‹è¾“å‡ºçš„è´¨é‡å’Œå‡†ç¡®æ€§ã€‚è¿›è¡Œæç¤ºè¯ä¼˜åŒ–çš„å·¥ä½œä¹Ÿè¢«ç§°ä¸ºæç¤ºè¯å·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è§æç¤ºè¯å·¥ç¨‹ã€‚  
å·¥å…·è°ƒç”¨  
é€šè¿‡é›†æˆå†…ç½®å·¥å…·æˆ–è¿æ¥è¿œç¨‹ MCP æœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥æ‰©å±•æ¨¡å‹çš„åŠŸèƒ½ï¼Œä»¥ä¾¿æ›´å¥½å›ç­”é—®é¢˜æˆ–æ‰§è¡Œä»»åŠ¡ã€‚å½“å‰æ”¯æŒï¼š  
å†…ç½®å·¥å…·ï¼šæœç´¢ç½‘ç»œã€æ£€ç´¢æ•°æ®ã€å›¾ç‰‡å¤„ç†ç­‰ã€‚  
è°ƒç”¨è‡ªå®šä¹‰å‡½æ•°ã€‚  
è®¿é—®ä¸‰æ–¹MCPæœåŠ¡ã€‚  
è¯¦ç»†ä¿¡æ¯è¯·å‚è§å·¥å…·æ¦‚è¿°ã€‚  
ç»­å†™æ¨¡å¼  
é€šè¿‡é¢„å¡«ï¼ˆPrefillï¼‰éƒ¨åˆ† assistant è§’è‰²çš„å†…å®¹ï¼Œå¼•å¯¼å’Œæ§åˆ¶æ¨¡å‹ä»å·²æœ‰çš„æ–‡æœ¬ç‰‡æ®µç»§ç»­è¾“å‡ºï¼Œä»¥åŠæ§åˆ¶æ¨¡å‹åœ¨è§’è‰²æ‰®æ¼”åœºæ™¯ä¸­ä¿æŒä¸€è‡´æ€§ã€‚  
ç»­å†™æ¨¡å¼ Prefill Responseï¼šä½¿ç”¨Chat APIå®ç°ç»­å†™æ¨¡å¼ã€‚  
ç»­å†™æ¨¡å¼ï¼šä½¿ç”¨Responses APIå®ç°ç»­å†™æ¨¡å¼ã€‚  
ç»“æ„åŒ–è¾“å‡ºï¼ˆbetaï¼‰  
æ§åˆ¶æ¨¡å‹è¾“å‡ºç¨‹åºå¯å¤„ç†çš„æ ‡å‡†æ ¼å¼ï¼ˆä¸»è¦æ˜¯ JSONï¼‰è€Œéè‡ªç„¶è¯­è¨€ï¼Œæ–¹ä¾¿æ ‡å‡†åŒ–å¤„ç†æˆ–å±•ç¤ºã€‚  
ç»“æ„åŒ–è¾“å‡º(beta)ï¼šä½¿ç”¨Chat APIå®ç°ç»“æ„åŒ–è¾“å‡ºã€‚  
ç»“æ„åŒ–è¾“å‡º(beta)ï¼šä½¿ç”¨Responses APIå®ç°ç»“æ„åŒ–è¾“å‡ºã€‚  
æ‰¹é‡æ¨ç†  
æ–¹èˆŸä¸ºæ‚¨æä¾›æ‰¹é‡æ¨ç†çš„èƒ½åŠ›ï¼Œå½“æ‚¨æœ‰å¤§æ‰¹é‡æ•°æ®å¤„ç†ä»»åŠ¡ï¼Œå¯ä½¿ç”¨æ‰¹é‡æ¨ç†èƒ½åŠ›ï¼Œä»¥è·å¾—æ›´å¤§ååé‡å’Œæ›´ä½çš„æˆæœ¬ã€‚è¯¦ç»†ä»‹ç»å’Œä½¿ç”¨ï¼Œè¯·å‚è§ æ‰¹é‡æ¨ç†ï¼ˆSDKæ•™ç¨‹ï¼‰ã€‚  
å¼‚å¸¸å¤„ç†  
å¢åŠ å¼‚å¸¸å¤„ç†ï¼Œå¸®åŠ©å®šä½é—®é¢˜ã€‚  
  
Python  
Go  
Java  
package main  
  
import (  
    "context"  
    "errors"  
    "fmt"  
    "io"  
    "os"  
    "github.com/volcengine/volcengine-go-sdk/service/arkruntime"  
    "github.com/volcengine/volcengine-go-sdk/service/arkruntime/model"  
    "github.com/volcengine/volcengine-go-sdk/volcengine"  
)  
  
func main() {  
    client := arkruntime.NewClientWithApiKey(  
        os.Getenv("ARK_API_KEY"),  
        // The base URL for model invocation  
        arkruntime.WithBaseUrl("https://ark.cn-beijing.volces.com/api/v3"),  
    )  
    ctx := context.Background()  
  
fmt.Println("----- streaming request -----")  
    req := model.CreateChatCompletionRequest{  
        // Replace with Model ID  
       Model: "doubao-seed-1-6-251015",  
       Messages: []*model.ChatCompletionMessage{  
          {  
             Role: model.ChatMessageRoleSystem,  
             Content: &model.ChatCompletionMessageContent{  
                StringValue: volcengine.String("ä½ æ˜¯ AI äººå·¥æ™ºèƒ½åŠ©æ‰‹"),  
             },  
          },  
          {  
             Role: model.ChatMessageRoleUser,  
             Content: &model.ChatCompletionMessageContent{  
                StringValue: volcengine.String("å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿ"),  
             },  
          },  
       },  
    }  
    stream, err := client.CreateChatCompletionStream(ctx, req)  
    if err != nil {  
       apiErr := &model.APIError{}  
       if errors.As(err, &apiErr) {  
          fmt.Printf("stream chat error: %v", apiErr)  
       }  
       return  
    }  
    defer stream.Close()  
  
for {  
       recv, err := stream.Recv()  
       if err == io.EOF {  
          return  
       }  
       if err != nil {  
          apiErr := &model.APIError{}  
          if errors.As(err, &apiErr) {  
             fmt.Printf("stream chat error: %\v", apiErr)  
          }  
          return  
       }  
  
if len(recv.Choices) > 0 {  
          fmt.Print(recv.Choices[0].Delta.Content)  
       }  
    }  
}  
  
package com.volcengine.ark.runtime;  
  
import com.volcengine.ark.runtime.exception.ArkHttpException;  
import com.volcengine.ark.runtime.model.completion.chat.ChatCompletionRequest;  
import com.volcengine.ark.runtime.model.completion.chat.ChatMessage;  
import com.volcengine.ark.runtime.model.completion.chat.ChatMessageRole;  
import com.volcengine.ark.runtime.service.ArkService;  
import java.util.ArrayList;  
import java.util.List;  
  
public class ChatCompletionsExample {  
    public static void main(String[] args) {  
  
String apiKey = System.getenv("ARK_API_KEY");  
        // The base URL for model invocation  
        ArkService service = ArkService.builder().apiKey(apiKey).baseUrl("https://ark.cn-beijing.volces.com/api/v3").build();  
  
System.out.println("----- streaming request -----");  
        final List<ChatMessage> streamMessages = new ArrayList<>();  
        final ChatMessage streamSystemMessage = ChatMessage.builder().role(ChatMessageRole.SYSTEM).content("ä½ æ˜¯ AI äººå·¥æ™ºèƒ½åŠ©æ‰‹").build();  
        final ChatMessage streamUserMessage = ChatMessage.builder().role(ChatMessageRole.USER).content("å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿ").build();  
        streamMessages.add(streamSystemMessage);  
        streamMessages.add(streamUserMessage);  
  
ChatCompletionRequest streamChatCompletionRequest = ChatCompletionRequest.builder()  
               .model("doubao-seed-1-6-251015")//Replace with Model ID  
               .messages(streamMessages)  
               .build();  
  
try {  
            service.streamChatCompletion(streamChatCompletionRequest)  
                   .doOnError(Throwable::printStackTrace)  
                   .blockingForEach(  
                            choice -> {  
                                if (choice.getChoices().size() > 0) {  
                                    System.out.print(choice.getChoices().get(0).getMessage().getContent());  
                                }  
                            }  
                    );  
        } catch (ArkHttpException e) {  
            System.out.print(e.toString());  
        }  
  
// shutdown service  
        service.shutdownExecutor();  
    }  
  
}  
  
Python  
å¤åˆ¶  
import os  
# Install SDK:  pip install 'volcengine-python-sdk[ark]'  
from volcenginesdkarkruntime import Ark  
from volcenginesdkarkruntime._exceptions import ArkAPIError  
  
# åˆå§‹åŒ–Arkå®¢æˆ·ç«¯  
client = Ark(  
    # The base URL for model invocation  
    base_url="https://ark.cn-beijing.volces.com/api/v3",  
    api_key=os.getenv('ARK_API_KEY'),   
)  
  
# Streaming  
try:  
    stream = client.chat.completions.create(  
    # Replace with Model ID  
    model = "doubao-seed-1-6-251015",  
        messages=[  
            {"role": "system", "content": "ä½ æ˜¯ AI äººå·¥æ™ºèƒ½åŠ©æ‰‹"},  
            {"role": "user", "content": "å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿ"},  
        ],  
        stream=True  
    )  
    for chunk in stream:  
        if not chunk.choices:  
            continue  
  
print(chunk.choices[0].delta.content, end="")  
    print()  
except ArkAPIError as e:  
    print(e)  
  
å¯¹è¯åŠ å¯†  
é™¤äº†é»˜è®¤çš„ç½‘ç»œå±‚åŠ å¯†ï¼Œç«å±±æ–¹èˆŸè¿˜æä¾›å…è´¹çš„åº”ç”¨å±‚åŠ å¯†åŠŸèƒ½ï¼Œä¸ºæ‚¨çš„æ¨ç†ä¼šè¯æ•°æ®æä¾›æ›´å¼ºçš„å®‰å…¨ä¿æŠ¤ã€‚æ‚¨åªéœ€å¢åŠ ä¸€è¡Œä»£ç å³å¯å¯ç”¨ã€‚å®Œæ•´ç¤ºä¾‹ä»£ç è¯·å‚è§ åŠ å¯†æ•°æ®ï¼›æ›´å¤šåŸç†ä¿¡æ¯ï¼Œè¯·å‚è§æ¨ç†ä¼šè¯æ•°æ®åº”ç”¨å±‚åŠ å¯†æ–¹æ¡ˆã€‚  
ä½¿ç”¨è¯´æ˜  
æ¨¡å‹å…³é”®é™åˆ¶ï¼š  
æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦ï¼ˆContext Windowï¼‰ï¼šå³å•æ¬¡è¯·æ±‚æ¨¡å‹èƒ½å¤„ç†çš„å†…å®¹é•¿åº¦ï¼ŒåŒ…æ‹¬ç”¨æˆ·è¾“å…¥å’Œæ¨¡å‹è¾“å‡ºï¼Œå•ä½ token ã€‚è¶…å‡ºæœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦çš„å†…å®¹æ—¶ï¼Œä¼šæˆªæ–­å¹¶åœæ­¢è¾“å‡ºã€‚å¦‚ç¢°åˆ°ä¸Šä¸‹æ–‡é™åˆ¶å¯¼è‡´çš„å†…å®¹æˆªæ–­ï¼Œå¯é€‰æ‹©æ”¯æŒæ›´å¤§ä¸Šä¸‹æ–‡é•¿åº¦è§„æ ¼çš„æ¨¡å‹ã€‚  
æœ€å¤§è¾“å‡ºé•¿åº¦ï¼ˆMax Tokensï¼‰ï¼šå³å•æ¬¡æ¨¡å‹è¾“å‡ºçš„å†…å®¹çš„æœ€å¤§é•¿åº¦ã€‚å¦‚ç¢°åˆ°è¿™ç§æƒ…å†µï¼Œå¯å‚è€ƒç»­å†™æ¨¡å¼ Prefill Responseï¼Œé€šè¿‡å¤šæ¬¡ç»­å†™å›å¤ï¼Œæ‹¼æ¥å‡ºå®Œæ•´å†…å®¹ã€‚  
æ¯åˆ†é’Ÿå¤„ç†å†…å®¹é‡ï¼ˆTPMï¼‰ï¼šå³è´¦å·ä¸‹åŒæ¨¡å‹ï¼ˆä¸åŒºåˆ†ç‰ˆæœ¬ï¼‰æ¯åˆ†é’Ÿèƒ½å¤„ç†çš„å†…å®¹é‡é™åˆ¶ï¼Œå•ä½ tokenã€‚å¦‚é»˜è®¤ TPM é™åˆ¶æ— æ³•æ»¡è¶³æ‚¨çš„ä¸šåŠ¡ï¼Œå¯é€šè¿‡å·¥å•è”ç³»å”®åæå‡é…é¢ã€‚ä¸¾ä¾‹ï¼šæŸæ¨¡å‹çš„ TPM ä¸º 500wï¼Œä¸€ä¸ªä¸»è´¦å·ä¸‹åˆ›å»ºçš„è¯¥æ¨¡å‹çš„æ‰€æœ‰ç‰ˆæœ¬æ¥å…¥ç‚¹å…±äº«æ­¤é…é¢ã€‚  
æ¯åˆ†é’Ÿå¤„ç†è¯·æ±‚æ•°ï¼ˆRPMï¼‰ï¼šå³è´¦å·ä¸‹åŒæ¨¡å‹ï¼ˆä¸åŒºåˆ†ç‰ˆæœ¬ï¼‰æ¯åˆ†é’Ÿèƒ½å¤„ç†çš„è¯·æ±‚æ•°ä¸Šé™ï¼Œä¸ä¸Šé¢ TPM ç±»ä¼¼ã€‚å¦‚é»˜è®¤ RPM é™åˆ¶æ— æ³•æ»¡è¶³æ‚¨çš„ä¸šåŠ¡ï¼Œå¯é€šè¿‡å·¥å•è”ç³»å”®åæå‡é…é¢ã€‚  
å„æ¨¡å‹è¯¦ç»†çš„è§„æ ¼ä¿¡æ¯ï¼Œè¯·å‚è§ æ¨¡å‹åˆ—è¡¨ã€‚  
ç”¨é‡æŸ¥è¯¢ï¼š  
å¯¹äºæŸæ¬¡è¯·æ±‚ token ç”¨é‡ï¼šå¯åœ¨è¿”å›çš„ usage ç»“æ„ä½“ä¸­æŸ¥çœ‹ã€‚  
è¾“å…¥/è¾“å‡ºå†…å®¹çš„ token ç”¨é‡ï¼šå¯ä½¿ç”¨ Tokenization API æˆ– Token è®¡ç®—å™¨æ¥ä¼°ç®—ã€‚  
è´¦å·/é¡¹ç›®/æ¥å…¥ç‚¹ç»´åº¦ token ç”¨é‡ï¼šå¯åœ¨ ç”¨é‡ç»Ÿè®¡ é¡µé¢æŸ¥çœ‹ã€‚  
å¸¸è§é—®é¢˜  
å¸¸è§é—®é¢˜-åœ¨çº¿æ¨ç†ï¼šåœ¨çº¿æ¨ç†çš„å¸¸è§é—®é¢˜ï¼Œå¦‚é‡åˆ°é”™è¯¯ï¼Œå¯å°è¯•åœ¨è¿™é‡Œæ‰¾è§£å†³æ–¹æ¡ˆã€‚  
